---
import Request from "../components/ui/Request.astro";
import { HttpMethod } from "../types/http";
import {
  emptyInput,
  createArticleInput,
  createArticleResponse,
  getAllArticlesResponse,
  updateArticleResponse,
  deleteArticleResponse,
  getArticleResponse,
} from "../data/articles";
import Layout from "../layouts/Layout.astro";
---

<Layout title="Articles">
  <h2 class="text-3xl mt-20">Articles</h2>
  <div class="space-y-20 mt-10">
    <Request
      method={HttpMethod.GET}
      url="/api/articles"
      previewJSON={emptyInput}
      Response={getAllArticlesResponse}
    />
    <Request
      method={HttpMethod.GET}
      url="/api/articles/:slug"
      previewJSON={emptyInput}
      Response={getArticleResponse}
    />
    <Request
      method={HttpMethod.POST}
      url="/api/articles"
      previewJSON={createArticleInput}
      Response={createArticleResponse}
      credentialsInclude
    />
    <Request
      method={HttpMethod.PATCH}
      url="/api/articles/:slug"
      previewJSON={createArticleInput}
      Response={updateArticleResponse}
      credentialsInclude
    />
    <Request
      method={HttpMethod.DELETE}
      url="/api/articles/:slug"
      previewJSON={emptyInput}
      Response={deleteArticleResponse}
      credentialsInclude
    />
  </div>
</Layout>
